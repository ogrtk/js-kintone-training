<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>デバッグ練習</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }

        .error-example {
            border: 1px solid #ff6b6b;
            padding: 15px;
            margin: 10px 0;
            background: #ffe0e0;
        }

        .fixed-example {
            border: 1px solid #51cf66;
            padding: 15px;
            margin: 10px 0;
            background: #e0ffe0;
        }

        button {
            padding: 10px;
            margin: 5px;
            cursor: pointer;
        }

        .error {
            background: #ff6b6b;
            color: white;
        }

        .success {
            background: #51cf66;
            color: white;
        }

        pre {
            background: #f8f9fa;
            padding: 10px;
            overflow-x: auto;
        }
    </style>
</head>

<body>
    <h1>JavaScript デバッグ練習</h1>
    <p><strong>各エラー例を実行して、Consoleでエラーを確認し、修正版と比較してください</strong></p>

    <div class="error-example">
        <h3>エラー例1: 変数名の間違い</h3>
        <button class="error" onclick="errorExample1()">エラーを実行</button>
        <button class="success" onclick="fixedExample1()">修正版を実行</button>
        <pre>
エラーコード:
let userName = '田中';
console.log(userNmae);  // 変数名が間違っている

修正版:
let userName = '田中';
console.log(userName);  // 正しい変数名
        </pre>
    </div>

    <div class="error-example">
        <h3>エラー例2: 括弧の閉じ忘れ</h3>
        <button class="error" onclick="errorExample2()">エラーを実行</button>
        <button class="success" onclick="fixedExample2()">修正版を実行</button>
        <pre>
エラーコード:
function calculate(a, b {  // 括弧が足りない
    return a + b;
}

修正版:
function calculate(a, b) {  // 括弧を追加
    return a + b;
}
        </pre>
    </div>

    <div class="error-example">
        <h3>エラー例3: 存在しないプロパティへのアクセス</h3>
        <button class="error" onclick="errorExample3()">エラーを実行</button>
        <button class="success" onclick="fixedExample3()">修正版を実行</button>
        <pre>
エラーコード:
let user = { name: '田中', age: 30 };
console.log(user.email.toLowerCase());  // emailプロパティが存在しない

修正版:
let user = { name: '田中', age: 30 };
if (user.email) {
    console.log(user.email.toLowerCase());
} else {
    console.log('emailが設定されていません');
}
        </pre>
    </div>

    <script>
        console.log('デバッグ練習ページが読み込まれました');

        // エラー例1: 変数名の間違い
        function errorExample1() {
            try {
                let userName = '田中';
                console.log(userNmae);  // 意図的なエラー
            } catch (e) {
                console.error('エラー例1:', e.message);
                alert('Consoleでエラーを確認してください: ' + e.message);
            }
        }

        function fixedExample1() {
            let userName = '田中';
            console.log('修正版1 - ユーザー名:', userName);
            alert('修正版1が正常に実行されました');
        }

        // エラー例2: 括弧の閉じ忘れ（実際には構文エラーなので別の方法で説明）
        function errorExample2() {
            console.log('エラー例2: このようなコードは構文エラーで実行できません');
            console.log('function calculate(a, b { return a + b; }');
            alert('構文エラーの例です。実際にはページが読み込めません');
        }

        function fixedExample2() {
            function calculate(a, b) {  // 正しい構文
                return a + b;
            }
            let result = calculate(10, 20);
            console.log('修正版2 - 計算結果:', result);
            alert('修正版2が正常に実行されました: ' + result);
        }

        // エラー例3: 存在しないプロパティ
        function errorExample3() {
            try {
                let user = { name: '田中', age: 30 };
                console.log('user オブジェクト:', user);
                console.log(user.email.toLowerCase());  // 意図的なエラー
            } catch (e) {
                console.error('エラー例3:', e.message);
                alert('Consoleでエラーを確認してください: ' + e.message);
            }
        }

        function fixedExample3() {
            let user = { name: '田中', age: 30 };
            console.log('修正版3 - user オブジェクト:', user);

            if (user.email) {
                console.log('Email:', user.email.toLowerCase());
            } else {
                console.log('emailプロパティが設定されていません');
            }
            alert('修正版3が正常に実行されました');
        }
    </script>
</body>

</html>